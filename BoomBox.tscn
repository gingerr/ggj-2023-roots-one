[gd_scene load_steps=3 format=2]

[ext_resource path="res://resources/explosion1.mp3" type="AudioStream" id=2]

[sub_resource type="GDScript" id=1]
script/source = "class_name BoomBox
extends Node2D

static func playExplosionAt(position: Vector2, parent):
	var factory = load(\"res://BoomBox.tscn\")
	var player = factory.instance()
	player._playExplosionAt(position)
	parent.root.add_child(player)

func _playExplosionAt(position: Vector2):
	$ExplosionSound.global_position = position
	$ExplosionSound.play(0.1)
	
"

[node name="BoomBox" type="Node2D"]
pause_mode = 2
script = SubResource( 1 )

[node name="ExplosionSound" type="AudioStreamPlayer2D" parent="."]
pause_mode = 2
stream = ExtResource( 2 )
volume_db = -10.0
